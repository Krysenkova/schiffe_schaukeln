class Stone{
  float xPositionInitial;
  float yPositionInitial;
  float xPosition;
  float yPosition;
  int size; //asume that the sides have the same size
  
  PImage stone;
  
  boolean overStone = false;
  boolean locked = false;
  boolean stoneMoved = false;
  
  float xPositionOld;
  float yPositionOld;
  
  float xOffset = 0;
  float yOffset = 0;
  
  boolean timerOn = false;
  boolean underWater = false;
  
  Timer timer;
 
  Stone(float xPos, float yPos, int stoneSize){
    stone = loadImage("white stone.png");
    xPositionInitial = xPos;
    yPositionInitial = yPos;
  xPosition = xPositionOld= xPos;
  yPosition = yPositionOld = yPos;
  size = stoneSize;
}

  void display(){
    if(underWater == true && timerOn == true){
  tint(255,126);
image(stone, xPosition, yPosition, size, size);
timer = new Timer(xPositionInitial, yPositionInitial + size*2, 120);
timerOn = timer.count();
    }
   
    else{
      noTint();
  image(stone, xPosition, yPosition, size, size);}
}

void update()
  {
    if (mouseX > xPosition - size/2 && mouseX < xPosition + size/2 &&
        mouseY > yPosition - size/2 && mouseY < yPosition + size/2)
        {
         overStone = true;
         if (!locked)
         {
           tint(160);
         }
        }
    else 
    {
      noTint();
      overStone = false;
    }
  }

void interact(){
  if(overStone && mousePressed){
     locked = true;
     xPositionOld = xPosition;
     yPositionOld = yPosition;
     xPosition = mouseX;
     yPosition = mouseY;
}
  else{
     locked = false;
     }

  if(xPositionOld!=xPosition && yPositionOld != yPosition){
     stoneMoved = true;
     underWater = true; 
     timerOn = true;
  }
  
}
}
